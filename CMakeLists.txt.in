cmake_minimum_required(VERSION 2.8.2)

project(seastar-build NONE)

include(ExternalProject)
ExternalProject_Add(seastar
  GIT_REPOSITORY    https://github.com/scylladb/seastar.git
  GIT_TAG           dc351d8cfe0e5a95e00b2360a849640561790a34
  SOURCE_DIR        "${CMAKE_CURRENT_BINARY_DIR}/seastar-src"
  CONFIGURE_COMMAND  ./configure.py --mode=release --enable-dpdk --without-tests --without-apps --without-demos
  BUILD_IN_SOURCE    1
  BUILD_COMMAND      ninja -C build/release
  INSTALL_COMMAND    ""
)
